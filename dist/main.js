(()=>{"use strict";function e(e=l){document.querySelector(".add").textContent="";for(let t=0;t<e.length;t++){let c=document.createElement("div");document.querySelector(".add").appendChild(c),c.classList.add("todo"),c.classList.add(t);let l=document.getElementsByClassName(t)[0],o=document.createElement("div");l.appendChild(o);let d=l.appendChild(document.createElement("div")),r=l.appendChild(document.createElement("div")),n=l.appendChild(document.createElement("div")),u=l.appendChild(document.createElement("div"));l.appendChild(document.createElement("div")).classList.add(`.${t}`);let a=document.getElementsByClassName(`.${t}`)[0],i=document.createElement("img");i.classList.add("delete"),a.appendChild(i).src="img/minus.png",l.appendChild(document.createElement("div")).classList.add(`e${t}`);let s=document.getElementsByClassName(`e${t}`)[0],m=document.createElement("img");m.classList.add("edit"),s.appendChild(m).src="img/edit.png",o.textContent=e[t].title,d.textContent=e[t].desc,r.textContent=e[t].date,n.textContent=e[t].priority,u.textContent=e[t].project}}let t=function(){let e=[];return{setarray:function(t){e.push(t)},getarray:function(){return e},editArray:function(t){e.splice(t,1)}}}();function c(){document.querySelector(".projectCont").textContent="";let e=t.getarray();for(let t=0;t<e.length;t++){let c=document.createElement("div");c.classList.add("newProject"),c.classList.add(`+${t}`),document.querySelector(".projectCont").appendChild(c);let l=document.createElement("div");l.classList.add("divProject"),l.textContent=`${e[t]}`,c.appendChild(l);let o=document.createElement("div");o.classList.add("projectImg"),c.appendChild(o);let d=document.createElement("img");d.src="/img/bin.png",o.appendChild(d)}}document.querySelector(".projectCont").addEventListener("click",(e=>{if("projectImg"===e.target.parentElement.classList.value){let l=e.target.parentElement.parentElement.classList[1];t.editArray(l),c()}})),document.querySelector(".projectCont").addEventListener("click",(t=>{let c=[];if("newProject"===t.target.classList[0]||"divProject"===t.target.classList[0]){let o=t.target.textContent;c=l.filter((e=>e.project===o)),e(c)}})),document.querySelector(".left_panel>div").addEventListener("click",(t=>{let c=[];c=l.filter((e=>"Default"===e.project)),e(c)})),document.querySelector(".left_header>div:nth-child(2)").addEventListener("click",(t=>{e()}));let l=[];document.querySelector(".left_header>div:nth-child(1)>img").addEventListener("click",(function(){document.querySelector(".left_panel").classList.contains("hide")?document.querySelector(".left_panel").classList.remove("hide"):document.querySelector(".left_panel").classList.add("hide")})),document.querySelector(".right_header>div>img").addEventListener("click",(function(){!function(){document.querySelector("#project").textContent="";let e=document.createElement("option");e.textContent="Default";let c=document.querySelector("#project");c.appendChild(e);let l=t.getarray();for(let e=0;e<l.length;e++){let t=document.createElement("option");t.textContent=l[e],c.appendChild(t)}}(),document.querySelector("#title").value="",document.querySelector("#desc").value="",document.querySelector("#date").value="",document.querySelector("#pri").value="",document.querySelector("#project").value="",document.querySelector(".popup").classList.remove("hide"),document.querySelector("body div").classList.add("bg"),document.querySelector("button:nth-of-type(2)").classList.remove("hide"),document.querySelector("button:nth-of-type(3)").classList.add("hide")})),document.querySelectorAll(".popup>button").forEach((function(t){t.addEventListener("click",(function(){if("Close"===t.textContent)document.querySelector(".popup").classList.add("hide"),document.querySelector("body div").classList.remove("bg");else if("Submit"===t.textContent){let t=document.querySelector("#title").value,c=document.querySelector("#desc").value,o=document.querySelector("#date").value,d=document.querySelector("#pri").value,r=document.querySelector("#project").value;if(""===t||""===c||""===o||""===d||""===r)return void alert("pleaste input all values");{document.querySelector(".popup").classList.add("hide"),document.querySelector("body div").classList.remove("bg");let n=function(e,t,c,l,o){return{title:e,desc:t,date:c,priority:l,project:o}}(t,c,o,d,r);l.push(n),e()}}}))})),document.querySelector(".titles").addEventListener("click",(t=>{if("delete"===t.target.classList.value){let c=t.target.parentElement.classList.value[1];l.splice(c,1),e()}})),document.querySelector(".titles").addEventListener("click",(t=>{if("edit"===t.target.classList.value){console.log(t);let c=t.target.parentElement.classList.value[1];document.querySelector("#title").value=l[c].title,document.querySelector("#desc").value=l[c].desc,document.querySelector("#date").value=l[c].date,document.querySelector("#pri").value=l[c].priority,document.querySelector("#project").value=l[c].project,document.querySelector(".popup").classList.remove("hide"),document.querySelector("body div").classList.add("bg"),document.querySelector("button:nth-of-type(2)").classList.add("hide"),document.querySelector("button:nth-of-type(3)").classList.remove("hide"),document.querySelectorAll(".popup>button").forEach((function(t){t.addEventListener("click",(function(){if("Close"===t.textContent)document.querySelector(".popup").classList.add("hide"),document.querySelector("body div").classList.remove("bg");else if("Update"===t.textContent){console.log("edit");let t=document.querySelector("#title").value,o=document.querySelector("#desc").value,d=document.querySelector("#date").value,r=document.querySelector("#pri").value,n=document.querySelector("#project").value;if(""===t||""===o||""===d||""===r||""===n)return void alert("pleaste input all values");document.querySelector(".popup").classList.add("hide"),document.querySelector("body div").classList.remove("bg"),l[c].title=t,l[c].desc=o,l[c].date=d,l[c].priority=r,l[c].project=n,console.log(c),e()}}))}))}})),document.querySelector(".new").addEventListener("click",(()=>{document.querySelector("#name").value="",document.querySelector("body div").classList.add("bg"),document.querySelector(".projectPopup").classList.remove("hide"),document.querySelector(".projectFlex").addEventListener("click",(e=>{"Close"===e.target.innerText?(document.querySelector("body div").classList.remove("bg"),document.querySelector(".projectPopup").classList.add("hide"),document.querySelector("#name").value=""):"Add"===e.target.innerText&&(""===document.querySelector("#name").value?alert("Please enter real value"):(document.querySelector("body div").classList.remove("bg"),document.querySelector(".projectPopup").classList.add("hide"),t.setarray(document.querySelector("#name").value),c()))}))}))})();
